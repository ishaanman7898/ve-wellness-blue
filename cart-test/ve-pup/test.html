<!DOCTYPE html>
<html>
<head>
  <title>Popup Window Position Tool</title>
  <style>
    body {
      background: #111;
      color: white;
      font-family: Arial;
      display:flex;
      justify-content:center;
      align-items:center;
      height:100vh;
      overflow:hidden;
    }

    #panel {
      width: 350px;
      background: #222;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 15px #000;
    }

    #openBtn {
      padding: 12px 20px;
      background: #00c8ff;
      border: none;
      border-radius: 8px;
      color: black;
      font-weight: bold;
      cursor: pointer;
      margin-bottom: 20px;
      width:100%;
    }

    textarea {
      width:100%;
      height:110px;
      margin-top:10px;
      border-radius:8px;
      border:none;
      padding:10px;
      resize:none;
      background:#000;
      color:#0f0;
      font-family: monospace;
    }
  </style>
</head>
<body>

<div id="panel">
  <button id="openBtn">Open Example Popup</button>

  <h3>Popup Values</h3>
  <p id="vals">Not opened yet.</p>

  <h3>Puppeteer Code</h3>
  <textarea id="code" readonly></textarea>
</div>

<script>
let popup = null;

document.getElementById("openBtn").onclick = () => {
  // open a resizable + movable window
  popup = window.open(
    "",
    "popupTest",
    "width=400,height=500,left=200,top=200,resizable=yes"
  );

  popup.document.write(`
    <body style="margin:0;background:#333;color:white;display:flex;align-items:center;justify-content:center;font-size:22px;">
      Drag me & resize me freely.
    </body>
  `);

  // start update loop
  updateLoop();
};

function updateLoop() {
  if (!popup || popup.closed) return;

  const x = popup.screenX;
  const y = popup.screenY;
  const w = popup.outerWidth;
  const h = popup.outerHeight;

  document.getElementById("vals").innerHTML = `
    X: <b>${x}</b><br>
    Y: <b>${y}</b><br>
    Width: <b>${w}</b><br>
    Height: <b>${h}</b>
  `;

  // generate puppeteer code for you
  document.getElementById("code").value =
`const browser = await puppeteer.launch({
  headless: false,
  args: [
    "--window-position=${x},${y}",
    "--window-size=${w},${h}"
  ]
});`;

  requestAnimationFrame(updateLoop);
}
</script>

</body>
</html>
